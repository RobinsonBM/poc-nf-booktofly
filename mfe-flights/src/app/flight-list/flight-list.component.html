<div class="flight-list-container">
  <div class="header">
    <h1>Resultados de B√∫squeda</h1>
    <button class="btn-back" (click)="backToSearch()">‚Üê Nueva B√∫squeda</button>
  </div>

  @if (hasResults()) {
    <div class="results-info">
      <p>Se encontraron <strong>{{ flights().length }}</strong> vuelo(s)</p>
    </div>

    <div class="flights-grid">
      @for (flight of flights(); track flight.id) {
        <div class="flight-card">
          <div class="flight-header">
            <h3>{{ flight.airline }}</h3>
            <div class="header-actions">
              <span class="flight-number">{{ flight.flightNumber }}</span>
              <button class="btn-info" (click)="openModal(flight)" title="Info Modal Custom">‚ÑπÔ∏è</button>
              <button class="btn-material" (click)="openMaterialModal(flight)" title="Info Modal Material">üìã</button>
            </div>
          </div>

          <div class="flight-route">
            <div class="location">
              <span class="city">{{ flight.origin }}</span>
              <span class="time">{{ flight.departureTime }}</span>
            </div>

            <div class="flight-path">
              <span class="duration">{{ flight.duration }}</span>
              <div class="arrow">‚úàÔ∏è</div>
            </div>

            <div class="location">
              <span class="city">{{ flight.destination }}</span>
              <span class="time">{{ flight.arrivalTime }}</span>
            </div>
          </div>

          <div class="flight-info">
            <div class="info-item">
              <span class="label">Clase:</span>
              <span class="value">{{ flight.class }}</span>
            </div>
            <div class="info-item">
              <span class="label">Asientos disponibles:</span>
              <span class="value">{{ flight.availableSeats }}</span>
            </div>
          </div>

          <div class="flight-footer">
            <div class="price">
              <span class="amount">{{ flight.price }}‚Ç¨</span>
              <span class="per-person">por persona</span>
            </div>
            <button class="btn-details" (click)="viewDetails(flight.id)">
              Ver Detalles
            </button>
          </div>
        </div>
      }
    </div>
  } @else {
    <div class="no-results">
      <div class="icon">‚úàÔ∏è</div>
      <h2>No se encontraron vuelos</h2>
      <p>Intenta modificar los criterios de b√∫squeda</p>
      <button class="btn-search-again" (click)="backToSearch()">
        Buscar de Nuevo
      </button>
    </div>
  }

  <app-flight-modal 
    [flight]="selectedFlight()" 
    [isOpen]="isModalOpen()" 
    (close)="closeModal()">
  </app-flight-modal>
</div>
